---
# Main inventory file for claude-code-vm deployment
# Supports both single machine and group deployments
all:
  children:
    # === Single Machine Deployment (Default) ===
    # Use this for most deployments: make deploy VM_HOST=1.2.3.4
    single:
      hosts:
        target:
          ansible_host: "{{ vm_host }}"
          ansible_user: "{{ effective_ansible_user }}"
          ansible_ssh_private_key_file: "{{ effective_ssh_key }}"
          ansible_ssh_pass: "{{ ssh_password if use_ssh_password else omit }}"
          ansible_become: "{{ effective_become }}"
          ansible_become_password: "{{ become_password if use_become_password else omit }}"
          target_user: "{{ target_vm_user }}"

    # === Group Deployments ===
    # Use these for deploying to multiple machines
    production:
      hosts:
        # Example:
        # prod-vm-1:
        #   ansible_host: 10.0.1.10
        #   ansible_user: root
        #   target_user: developer
        # prod-vm-2:
        #   ansible_host: 10.0.1.11
        #   ansible_user: root
        #   target_user: developer

    staging:
      hosts:
        # Example:
        # staging-vm:
        #   ansible_host: 10.0.2.10
        #   ansible_user: root
        #   target_user: tester

    development:
      hosts:
        # Example:
        # dev-vm-1:
        #   ansible_host: 192.168.1.100
        #   ansible_user: root
        #   target_user: developer